{% extends "XvolutionsAdminBundle:template:backoffice.html.twig" %}

{% block title %}Secções - Backoffice{% endblock %}

{% block username %}{{ username }}{% endblock %}
{% block maincontent %}
    <h1>{{ "Secções"|trans }}</h1>
    {% if ok%}
        <div class="alert alert-success alert-dismissable">
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
            {{ ok|trans }}
        </div>
    {% endif %}
    {% if error %}
        <div class="alert alert-danger alert-dismissable">
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
            {{ status|trans }}
        </div>
    {% endif %}
    {% if status %}
        <div class="alert alert-success alert-dismissable">
            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
            {{ status|trans }}
        </div>
    {% endif %}

    {% if sectionList|length > 0 %}
        <table class="table table-hover">
            <tr>
                <th></th>
                <th>{{ "Nome da Secção"|trans }}</th>
                <th>{{ "Opções"|trans }}</th>
            </tr>
            {% for section in sectionList %}
                <tr>
                    <td><input type="checkbox" value="{{section.id}}"></td>
                    <td>{{section.section}}</td>
                    <td><a href="{{path('sections')}}/edit/{{section.id}}" type="submit" class="btn btn-primary btn-xs">{{ "Editar"|trans }}</a> <a href="{{path('sections')}}/remove/{{section.id}}" type="reset" class="btn btn-danger btn-xs">{{ "Apagar"|trans }}</a></td>
                </tr>
            {% endfor %}
        </table>
        <p>
            <a href="{{path('sections')}}/add" type="submit" class="btn btn-primary btn-sm">{{ "Criar uma nova secção"|trans }}</a> <a href="{{path('sections')}}/removeselected" type="reset" class="btn btn-danger btn-sm">{{ "Apagar Seleccionadas"|trans }}</a>
        </p> 
    {% endif %}

    {{ form_start(form) }}
    {{ form_errors(form) }}
    <div id="xvolutions_adminbundle_page">
        <div>
            {{ form_label( form.section ) }}
            {{ form_widget( form.section ) }}
        </div>
        {{ form_end(form) }}
    </div>
{% endblock %}
